const excuses = [
  "Моя собака съела мою домашнюю работу (цифровую версию).",
  "У меня случился внезапный экзистенциальный кризис по поводу смысла дедлайнов.",
  "Мой компьютер подхватил вирус от чтения слишком большого количества депрессивных новостей.",
  "Меня похитили инопланетяне, которые хотели изучить человеческую прокрастинацию.",
  "Искривление времени возле черной дыры исказило мое восприятие дедлайна.",
  "Мой кот прошелся по клавиатуре и удалил все в 3 часа ночи.",
  "Я застряла в бесконечном цикле попыток сделать все идеально.",
  "Wi-Fi отключился, потому что вселенная почувствовала, что я собираюсь быть продуктивной.",
  "Я помогала перетаскивать мебель другу соседа моего кузена.",
  "Мой мозг решил взять незапланированные каникулы на Багамах.",
  "Я искала ошибку, которая оказалась пропущенной точкой с запятой (поиск занял 6 часов).",
  "Моя мотивация была в предзаказе у поставщика.",
  "Я рисовала картину по номерам.",
  "Я отмечала день рождения моей собаки.",
  "Мой кактус коллекция объявил бойкот и требовал немедленного полива.",
  "Я обнаружила, что работаю лучше под давлением, поэтому ждала, когда давление достигнет критической точки.",
  "Мой внутренний перфекционист вступил в схватку с внутренним лентяем, и оба проиграли.",
  "Я ждала вдохновения, но оно застряло в лифте между 3 и 4 этажами.",
  "Мой хомяк сбежал с жестким диском, где хранилась готовая работа.",
  "Я проводила научный эксперимент по изучению пределов человеческого терпения (мой руководитель - участник контрольной группы).",
  "Мой планшет для рисования объявил себя республикой и перестал признавать мою власть.",
  "Я ждала, когда Марс выйдет из ретроградного движения - астролог сказал, что это важно.",
  "Мой роутер начал исповедовать дзен-буддизм и отказался от мирской суеты интернет-соединения.",
  "Моя кофемашина устроила революцию и требовала повышения качества кофейных зерен.",
  "Мой будильник вступил в сговор с моим одеялом против моей продуктивности.",
  "Я была занят тренировкой своего кактуса для участия в чемпионате по покеру среди растений.",
  "Мой мозг перешел в режим энергосбережения из-за переполненного кэша бесполезных фактов.",
  "Я ждала, когда изобретут машину времени, чтобы сделать работу в последний момент, но в прошлом.",
  "Мои нейроны объявили забастовку, требуя увеличения бюджета на кофеин.",
  "Я была занята составлением списка причин, почему я не сделала работу.",
  "Мой ноутбук устроил сидячую забастовку в знак протеста против переработок.",
  "Я проводила исследование зависимости продуктивности от уровня стресса (результаты показали прямую зависимость).",
  "Мой Wi-Fi начал получать сообщения от тостера и решил сосредоточиться на этой важной коммуникации.",
  "Я была в процессе медитации на тему 'как бы сделать эту работу, если бы я ее делала'.",
  "Я ждала, пока моя мотивация вернется из командировки (она задерживается уже 3 месяца).",
  "Мой кот начал читать мне лекции по квантовой физике, и я не могла его перебить.",
  "Я была занята созданием идеального плейлиста для работы (все еще в процессе подбора треков).",
  "Мой принтер начал печатать только манифесты против капиталистического угнетения офисных работников.",
  "Я обнаружила, что мой стол ориентирован не по фэн-шую, что блокировало творческую энергию.",
  "Моя кружка для кофе объявила, что больше не будет поддерживать мои переработки.",
  "Я была на секретной миссии по спасению мира от скуки (играла в тетрис).",
  "Мои пальцы временно эволюционировали обратно в плавники и не могли печатать.",
  "Я ждала, когда изобретут технологию, которая сделает работу за меня, пока я сплю.",
  "Мой ежедневник сбежал с моим списком дел в неизвестном направлении.",
  "Я была занята обучением паука на подоконнике игре в шахматы (он уже обыгрывает меня в 2 хода).",
  "Я проводила важный эксперимент: что будет, если ничего не делать (результаты ожидаемы).",
  "Мой телефон внезапно заговорил на древнешумерском и требовал перевода всех документов.",
  "Моя подушка тайно подменила все мои планы на 'поспать еще 5 минут'.",
  "Я была занята изобретением новых единиц измерения времени, более подходящих для прокрастинаторов.",
  "Я обучала ИИ-замену, чтобы она делала эту работу за меня.",
  "Путешественник во времени предупредил, что сдача работы сейчас вызовет парадокс.",
  "Я писала документацию... для этого генератора оправданий.",
  "Моя продуктивность была захвачена в заложники группой мемов.",
  "Я оптимизировала рабочий процесс для большей эффективности.",
  "Дедлайн конфликтовал с астрологической картой.",
  "Я готовила благодарственную речь для Нобелевской премии по прокрастинации.",
  "Мой код компилировался три дня подряд.",
  "Я создавала детальную диаграмму Ганта, объясняющую, почему я пропустила дедлайн.",
  "В моей клавиатуре закончились буквы от чрезмерного использования (осталась только F5).",
  "Я исследовала психологическое влияние нереалистичных дедлайнов.",
  "Дедлайн был в другом часовом поясе, который я не учла.",
  "Я писала юнит-тесты для генератора оправданий.",
  "Моя мотивация застряла в пробке за стадом черепах.",
  "Я делегировала эту задачу своей будущей я.",
  "Дедлайн сначала был слишком далеко, потом внезапно слишком близко - классический временной парадокс.",
  "Я тестировала разные генераторы оправданий, чтобы выбрать лучший.",
  "Моя золотая рыбка умерла, и мне пришлось организовывать похороны.",
  "Я обнаружила, что мой стул излучает анти-продуктивные волны.",
  "Моя кошка объявила голодовку, пока я не перестану работать.",
  "Я попала в петлю бесконечных обновлений Windows.",
  "Мой домовой спрятал все мои флешки.",
  "Я пыталась достичь просветления через прокрастинацию.",
  "Моя клавиатура объявила забастовку из-за переработки.",
  "Я обнаружила, что мой монитор вызывает временные аномалии.",
  "Моя мышка сбежала с тачпадом в Мексику.",
  "Я была занята чтением условий пользовательского соглашения до конца.",
  "Я мониторила скидки в золотом яблоке",
];

const excuseDisplay = document.getElementById("excuse-display");
const generateBtn = document.getElementById("generate-btn");
const copyBtn = document.getElementById("copy-btn");
const notification = document.getElementById("notification");

generateBtn.addEventListener("click", generateExcuse);
copyBtn.addEventListener("click", copyExcuse);

function generateExcuse() {
  const randomIndex = Math.floor(Math.random() * excuses.length);

  excuseDisplay.style.opacity = 0;
  excuseDisplay.style.transform = "translateX(-20px)";

  setTimeout(() => {
    excuseDisplay.textContent = excuses[randomIndex];
    excuseDisplay.style.opacity = 1;
    excuseDisplay.style.transform = "translateX(0)";
  }, 300);
}

function copyExcuse() {
  if (!excuseDisplay.textContent.includes("Здесь появится")) {
    navigator.clipboard
      .writeText(excuseDisplay.textContent)
      .then(() => {
        notification.style.display = "block";
        setTimeout(() => {
          notification.style.display = "none";
        }, 2000);
      })
      .catch((err) => {
        console.error("Ошибка копирования: ", err);
      });
  }
}

function createBubbles() {
  const bubbleCount = window.innerWidth < 480 ? 8 : 15;
  for (let i = 0; i < bubbleCount; i++) {
    const bubble = document.createElement("div");
    bubble.classList.add("bubble");

    const size = Math.random() * (window.innerWidth < 480 ? 60 : 100) + 30;
    const posX = Math.random() * 100;
    const posY = Math.random() * 100;
    const delay = Math.random() * 15;
    const duration = Math.random() * 10 + 10;

    bubble.style.width = `${size}px`;
    bubble.style.height = `${size}px`;
    bubble.style.left = `${posX}%`;
    bubble.style.top = `${posY}%`;
    bubble.style.animationDelay = `${delay}s`;
    bubble.style.animationDuration = `${duration}s`;

    document.body.appendChild(bubble);
  }
}

window.addEventListener("load", () => {
  generateExcuse();
  createBubbles();
});

window.addEventListener("resize", () => {
  document.querySelectorAll(".bubble").forEach((bubble) => bubble.remove());
  createBubbles();
});
